<!DOCTYPE html>
<html lang="en">
<head>
  {{> header }}
  <title>Products</title>
  <script>
    function deleteProduct(id) {
      fetch(`/products/${id}`, {
        method: 'delete'
      }).then(response => {
        console.log(response.json());
        location.reload(true);
      });
    }
  </script>
</head>
<body>
{{> menu }}
<a href="products/new" class="btn btn-primary" role="button">Add new product</a>
<table class="table">
  <thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">name</th>
    <th scope="col">sku</th>
    <th scope="col">width</th>
    <th scope="col">height</th>
    <th scope="col">length</th>
    <th scope="col">dimUnits</th>
    <th scope="col">weight</th>
    <th scope="col">weightUnits</th>
    <th scope="col">createdAt</th>
    <th scope="col">updatedAt</th>
    <th scope="col">operation</th>
  </tr>
  </thead>
  <tbody>
  {{#each productsList}}
    <tr>
      <th scope="row">{{this.id}}</th>
      <th scope="row">{{this.name}}</th>
      <th scope="row">{{this.sku}}</th>
      <th scope="row">{{this.width}}</th>
      <th scope="row">{{this.height}}</th>
      <th scope="row">{{this.length}}</th>
      <th scope="row">{{this.dimUnits}}</th>
      <th scope="row">{{this.weight}}</th>
      <th scope="row">{{this.weightUnits}}</th>
      <th scope="row">{{this.createdAt}}</th>
      <th scope="row">{{this.updatedAt}}</th>
      <th scope="col">
        <a href="./products/{{{this.id}}}" class="btn btn-primary" role="button">Edit</a>
        <a href="#" class="btn btn-danger" role="button" onclick="deleteProduct({{{this.id}}})">Del</a>
      </th>
    </tr>
  {{/each}}
  </tbody>
</table>
</body>
</html>
